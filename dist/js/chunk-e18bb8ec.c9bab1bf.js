(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e18bb8ec"],{"9c47":function(e,t,a){"use strict";a("cc0a")},b2e0:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},[a("v-row",[a("v-col",{staticClass:"mx-auto",attrs:{cols:"10"}},[a("h2",{staticClass:"text-center"},[e._v("Update Alert")]),e.message?a("v-alert",{attrs:{type:"error"}},[e._v(" "+e._s(e.message)+" ")]):e._e(),a("form",{on:{submit:function(t){return t.preventDefault(),e.processForm(t)}}},[a("v-select",{attrs:{items:e.alertTypes,label:"Alert Type","item-text":"text","item-value":"value",required:""},model:{value:e.alertType,callback:function(t){e.alertType=t},expression:"alertType"}}),"scheduled"===e.alertType?a("div",[a("v-datetime-picker",{attrs:{label:"Time"},model:{value:e.alertTime,callback:function(t){e.alertTime=t},expression:"alertTime"}},[a("template",{slot:"dateIcon"},[a("v-icon",[e._v("mdi-calendar")])],1),a("template",{slot:"timeIcon"},[a("v-icon",[e._v("mdi-clock")])],1)],2)],1):e._e(),a("v-select",{attrs:{items:e.alertGroups,"item-text":"text","item-value":"value",label:"Group Message",required:""},model:{value:e.alertGroup,callback:function(t){e.alertGroup=t},expression:"alertGroup"}}),!0===e.alertGroup?a("v-list",e._l(e.groups,(function(t){return a("v-list-item",{key:t.id},[a("v-list-item-content",{staticClass:"pl-3"},[e.selectedGroups.includes(t.id)?a("v-switch",{attrs:{label:""+t.group_name,value:"true",color:"error"},on:{click:function(a){return e.toggleGroup(t.id)}}}):a("v-switch",{attrs:{label:""+t.group_name,color:"error"},on:{click:function(a){return e.toggleGroup(t.id)}}})],1)],1)})),1):e._e(),a("v-textarea",{attrs:{outlined:"",label:"Alert Message"},model:{value:e.alertText,callback:function(t){e.alertText=t},expression:"alertText"}}),a("v-btn",{attrs:{color:"success"},on:{click:e.processForm}},[e._v(" Update Alert ")])],1)],1)],1)],1)},o=[],s=(a("99af"),a("caad"),a("c975"),a("fb6a"),a("a434"),a("2532"),a("bc3a")),i=a.n(s),n={name:"UpdateAlert",data:function(){return{alertType:"",alertTypes:[{text:"Now",value:"now"},{text:"Scheduled",value:"scheduled"}],alertTime:"",alertGroup:!1,alertGroups:[{text:"Yes",value:!0},{text:"No",value:!1}],alertText:"",accountId:"",message:"",groups:[],selectedGroups:[],dateModal:!1,timeModal:!1}},methods:{getAccountInformation:function(){var e=this;i.a.get("http://192.168.1.196:8000/api/v1/account/",{headers:{Authorization:"Token f43c1ce6396e91936da9a7123909d0baf53651f1"}}).then((function(t){200===t.status?e.accountId=t.data[0].account_id:e.message="Sorry, we are having issues getting your account information."})).catch((function(){e.message="Sorry, we are having issues getting your account information."}))},processForm:function(){var e=this;i.a.put("http://192.168.1.196:8000/api/v1/alert/",{account_id:this.accountId,message:this.alertText,group_message:this.alertGroup,group_ids:this.selectedGroups,alert_type:this.alertType,run_time:this.alertTime,id:this.$route.params.id},{headers:{Authorization:"Token f43c1ce6396e91936da9a7123909d0baf53651f1"}}).then((function(t){201===t.status?(e.message="This alert has been added to you account!",window.location.href="/alerts/"):e.message="Sorry, we are having issues adding this alert."})).catch((function(){e.message="Sorry, we are having issues adding this alert to your account."}))},getGroupInformation:function(){var e=this;i.a.get("http://192.168.1.196:8000/api/v1/groups/",{headers:{Authorization:"Token f43c1ce6396e91936da9a7123909d0baf53651f1"}}).then((function(t){200===t.status?e.groups=t.data:e.message="Sorry, we are having issues getting your account information."})).catch((function(){e.message="Sorry, we are having issues getting your account information."}))},toggleGroup:function(e){this.selectedGroups.includes(e)?this.selectedGroups.splice(this.selectedGroups.indexOf(e),1):this.selectedGroups.push(e)},getAlertInformation:function(){var e=this;i.a.get("http://192.168.1.196:8000/api/v1/alert/?id=".concat(this.$route.params.id),{headers:{Authorization:"Token f43c1ce6396e91936da9a7123909d0baf53651f1"}}).then((function(t){200===t.status?(e.alertType=t.data[0].alert_type,e.selectedGroups=t.data[0].group_ids,e.alertGroup=t.data[0].group_message,e.alertTime="".concat(t.data[0].run_time.slice(0,10)," ").concat(t.data[0].run_time.slice(12,16)),e.alertText=t.data[0].message):e.message="Sorry, we are having issues getting your alert information."})).catch((function(){e.message="Sorry, we are having issues getting your alert information."}))}},mounted:function(){this.getAccountInformation(),this.getGroupInformation(),this.getAlertInformation()}},c=n,u=(a("9c47"),a("2877")),l=a("6544"),d=a.n(l),p=a("0798"),m=a("8336"),g=a("62ad"),h=a("a523"),f=a("132d"),v=a("8860"),y=a("da13"),T=a("5d23"),b=a("0fd9"),_=a("b974"),x=a("b73d"),w=a("a844"),G=Object(u["a"])(c,r,o,!1,null,null,null);t["default"]=G.exports;d()(G,{VAlert:p["a"],VBtn:m["a"],VCol:g["a"],VContainer:h["a"],VIcon:f["a"],VList:v["a"],VListItem:y["a"],VListItemContent:T["a"],VRow:b["a"],VSelect:_["a"],VSwitch:x["a"],VTextarea:w["a"]})},cc0a:function(e,t,a){}}]);
//# sourceMappingURL=chunk-e18bb8ec.c9bab1bf.js.map