{"version":3,"sources":["webpack:///./src/views/UpdateAlert.vue?9133","webpack:///./src/views/UpdateAlert.vue?ebc0","webpack:///src/views/UpdateAlert.vue","webpack:///./src/views/UpdateAlert.vue?7026","webpack:///./src/views/UpdateAlert.vue?c8cc"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","_s","message","_e","on","$event","preventDefault","processForm","alertTypes","model","value","callback","$$v","alertType","expression","alertTime","slot","alertGroups","alertGroup","_l","group","key","id","selectedGroups","includes","toggleGroup","alertText","staticRenderFns","component","VAlert","VBtn","VCol","VContainer","VIcon","VList","VListItem","VListItemContent","VRow","VSelect","VSwitch","VTextarea"],"mappings":"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","file":"js/chunk-e18bb8ec.c9bab1bf.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpdateAlert.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"fluid\":\"\"}},[_c('v-row',[_c('v-col',{staticClass:\"mx-auto\",attrs:{\"cols\":\"10\"}},[_c('h2',{staticClass:\"text-center\"},[_vm._v(\"Update Alert\")]),(_vm.message)?_c('v-alert',{attrs:{\"type\":\"error\"}},[_vm._v(\" \"+_vm._s(_vm.message)+\" \")]):_vm._e(),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.processForm($event)}}},[_c('v-select',{attrs:{\"items\":_vm.alertTypes,\"label\":\"Alert Type\",\"item-text\":\"text\",\"item-value\":\"value\",\"required\":\"\"},model:{value:(_vm.alertType),callback:function ($$v) {_vm.alertType=$$v},expression:\"alertType\"}}),(_vm.alertType === 'scheduled')?_c('div',[_c('v-datetime-picker',{attrs:{\"label\":\"Time\"},model:{value:(_vm.alertTime),callback:function ($$v) {_vm.alertTime=$$v},expression:\"alertTime\"}},[_c('template',{slot:\"dateIcon\"},[_c('v-icon',[_vm._v(\"mdi-calendar\")])],1),_c('template',{slot:\"timeIcon\"},[_c('v-icon',[_vm._v(\"mdi-clock\")])],1)],2)],1):_vm._e(),_c('v-select',{attrs:{\"items\":_vm.alertGroups,\"item-text\":\"text\",\"item-value\":\"value\",\"label\":\"Group Message\",\"required\":\"\"},model:{value:(_vm.alertGroup),callback:function ($$v) {_vm.alertGroup=$$v},expression:\"alertGroup\"}}),(_vm.alertGroup === true)?_c('v-list',_vm._l((_vm.groups),function(group){return _c('v-list-item',{key:group.id},[_c('v-list-item-content',{staticClass:\"pl-3\"},[(_vm.selectedGroups.includes(group.id))?_c('v-switch',{attrs:{\"label\":(\"\" + (group.group_name)),\"value\":\"true\",\"color\":\"error\"},on:{\"click\":function($event){return _vm.toggleGroup(group.id)}}}):_c('v-switch',{attrs:{\"label\":(\"\" + (group.group_name)),\"color\":\"error\"},on:{\"click\":function($event){return _vm.toggleGroup(group.id)}}})],1)],1)}),1):_vm._e(),_c('v-textarea',{attrs:{\"outlined\":\"\",\"label\":\"Alert Message\"},model:{value:(_vm.alertText),callback:function ($$v) {_vm.alertText=$$v},expression:\"alertText\"}}),_c('v-btn',{attrs:{\"color\":\"success\"},on:{\"click\":_vm.processForm}},[_vm._v(\" Update Alert \")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container fluid>\n    <v-row>\n      <v-col cols=\"10\" class=\"mx-auto\">\n          <h2 class=\"text-center\">Update Alert</h2>\n          <v-alert type=\"error\" v-if=\"message\">\n                {{message}}\n          </v-alert>\n          <form @submit.prevent=\"processForm\">\n            <v-select\n                v-model=\"alertType\"\n                :items=\"alertTypes\"\n                label=\"Alert Type\"\n                item-text=\"text\"\n                item-value=\"value\"\n                required\n            ></v-select> \n            <div v-if=\"alertType === 'scheduled'\">\n                <v-datetime-picker label=\"Time\" v-model=\"alertTime\"> \n                  <template slot=\"dateIcon\">\n                    <v-icon>mdi-calendar</v-icon>\n                  </template>\n                  <template slot=\"timeIcon\">\n                    <v-icon>mdi-clock</v-icon>\n                  </template> \n                </v-datetime-picker>\n            </div>\n            <v-select\n                v-model=\"alertGroup\"\n                :items=\"alertGroups\"\n                item-text=\"text\"\n                item-value=\"value\"\n                label=\"Group Message\"\n                required\n            ></v-select>\n            <v-list v-if=\"alertGroup === true\">\n                 <v-list-item v-for=\"group in groups\" v-bind:key=\"group.id\">\n                    <v-list-item-content class=\"pl-3\">                \n                        <v-switch v-if=\"selectedGroups.includes(group.id)\"\n                            v-on:click=\"toggleGroup(group.id)\"\n                            :label=\"`${group.group_name}`\"\n                            value=\"true\"\n                            color=\"error\"\n                        ></v-switch>\n                        <v-switch v-else\n                            v-on:click=\"toggleGroup(group.id)\"\n                            :label=\"`${group.group_name}`\"\n                            color=\"error\"\n                        ></v-switch>\n                    </v-list-item-content>\n                </v-list-item>\n            </v-list>\n            <v-textarea\n            outlined\n            v-model=\"alertText\"\n            label=\"Alert Message\"\n            ></v-textarea>\n            <v-btn\n                color=\"success\"\n                @click=\"processForm\"\n            >\n            Update Alert\n            </v-btn>\n          </form>\n        </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n    name: 'UpdateAlert',\n    data() {\n        return {\n            alertType: '',            \n            alertTypes: [\n                { text: 'Now', value: 'now'},\n                { text: 'Scheduled', value: 'scheduled'}],\n            alertTime: '',\n            alertGroup: false,\n            alertGroups: [\n                { text: 'Yes', value: true},\n                { text: 'No', value: false}],\n            alertText: '',            \n            accountId: '',\n            message: '',\n            groups: [],\n            selectedGroups: [],\n            dateModal: false,\n            timeModal: false,\n        }\n    },\n    methods:{\n        getAccountInformation: function() {\n            axios.get('http://192.168.1.196:8000/api/v1/account/', {\n                headers: {\n                    'Authorization': `Token f43c1ce6396e91936da9a7123909d0baf53651f1` \n                }\n            })\n            .then((res) => {\n                if (res.status === 200){\n                    this.accountId = res.data[0].account_id\n                }else{\n                    this.message = 'Sorry, we are having issues getting your account information.'                    \n                }\n            })\n            .catch(() => {\n                this.message = 'Sorry, we are having issues getting your account information.'  \n            })\n        },\n        processForm: function() {            \n            axios.put('http://192.168.1.196:8000/api/v1/alert/', {\n                account_id: this.accountId,\n                message: this.alertText,\n                group_message: this.alertGroup,\n                group_ids: this.selectedGroups,\n                alert_type: this.alertType,\n                run_time: this.alertTime,\n                id: this.$route.params.id,\n\n            }, {\n                headers: {\n                    'Authorization': `Token f43c1ce6396e91936da9a7123909d0baf53651f1` \n                }\n            })\n            .then((res) => {\n                if (res.status === 201){\n                    this.message = `This alert has been added to you account!`\n                    window.location.href = '/alerts/'\n                }else{\n                    this.message = `Sorry, we are having issues adding this alert.`                   \n                }\n            })\n            .catch(() => {\n                this.message = `Sorry, we are having issues adding this alert to your account.`  \n            })    \n        },\n        getGroupInformation : function() {\n            axios.get('http://192.168.1.196:8000/api/v1/groups/', {\n                headers: {\n                    'Authorization': `Token f43c1ce6396e91936da9a7123909d0baf53651f1` \n                }\n            })\n            .then((res) => {\n                if (res.status === 200){\n                    this.groups = res.data\n                }else{\n                    this.message = 'Sorry, we are having issues getting your account information.'                    \n                }\n            })\n            .catch(() => {\n                this.message = 'Sorry, we are having issues getting your account information.'  \n            })\n        },\n        toggleGroup: function(group){\n            if(this.selectedGroups.includes(group)){\n                this.selectedGroups.splice(this.selectedGroups.indexOf(group),1)\n            }else{\n                this.selectedGroups.push(group)\n            }\n        },\n        getAlertInformation: function () {               \n            axios.get(`http://192.168.1.196:8000/api/v1/alert/?id=${this.$route.params.id}`,{\n                headers: {\n                    'Authorization': `Token f43c1ce6396e91936da9a7123909d0baf53651f1` \n                }                \n            })\n            .then((res) => {\n                if (res.status === 200){\n                    this.alertType = res.data[0].alert_type\n                    this.selectedGroups = res.data[0].group_ids    \n                    this.alertGroup = res.data[0].group_message \n                    this.alertTime =  `${res.data[0].run_time.slice(0,10)} ${res.data[0].run_time.slice(12,16)}` \n                    this.alertText =  res.data[0].message               \n                }else{\n                    this.message = 'Sorry, we are having issues getting your alert information.'                    \n                }\n            })\n            .catch(() => {\n                this.message = 'Sorry, we are having issues getting your alert information.'  \n            })\n        },\n    },\n    mounted(){\n        this.getAccountInformation()\n        this.getGroupInformation()\n        this.getAlertInformation()\n    },\n}\n</script>\n\n<style>\n.alert-form{\n    background-color: #f5f0f0;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpdateAlert.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpdateAlert.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./UpdateAlert.vue?vue&type=template&id=f6ae5126&\"\nimport script from \"./UpdateAlert.vue?vue&type=script&lang=js&\"\nexport * from \"./UpdateAlert.vue?vue&type=script&lang=js&\"\nimport style0 from \"./UpdateAlert.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VAlert,VBtn,VCol,VContainer,VIcon,VList,VListItem,VListItemContent,VRow,VSelect,VSwitch,VTextarea})\n"],"sourceRoot":""}